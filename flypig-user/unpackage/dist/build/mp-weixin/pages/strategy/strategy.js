(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/strategy/strategy"],{"0375":function(t,n,e){"use strict";e.r(n);var a=e("1319"),o=e("2a68");for(var s in o)"default"!==s&&function(t){e.d(n,t,function(){return o[t]})}(s);e("4c34");var i=e("2877"),r=Object(i["a"])(o["default"],a["a"],a["b"],!1,null,"204e61f6",null);n["default"]=r.exports},1319:function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement;t._self._c},o=[];e.d(n,"a",function(){return a}),e.d(n,"b",function(){return o})},"2a68":function(t,n,e){"use strict";e.r(n);var a=e("ecf3"),o=e.n(a);for(var s in a)"default"!==s&&function(t){e.d(n,t,function(){return a[t]})}(s);n["default"]=o.a},"4c34":function(t,n,e){"use strict";var a=e("e3dd"),o=e.n(a);o.a},e3dd:function(t,n,e){},ecf3:function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("2f62"),o=e("2d07");function s(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},a=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.forEach(function(n){i(t,n,e[n])})}return t}function i(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var r=function(){return e.e("pages/strategy/components/address").then(e.bind(null,"24dc"))},c=function(){return e.e("pages/strategy/components/locality").then(e.bind(null,"3249"))},d=function(){return e.e("pages/strategy/components/content").then(e.bind(null,"ec2e"))},l=function(){return e.e("components/uni-load-more/uni-load-more").then(e.bind(null,"0061"))},u=wx.cloud.database(),f=u.collection("userdata"),h={components:{Address:r,Locality:c,Content:d,uniLoadMore:l},data:function(){return{address:"",localdata:[],homeload:!0,loadmore:!1,uniload:"loading",pageid:0,loadinglist:!1,nonedata:!1,addressData:"",Whether:!1}},methods:{fatherMethod:function(t){if(console.log(t),this.loadinglist=!0,this.nonedata=!1,"全部"==t){var n=this.address;this.cityData(n)}else{console.log(t);var e=this.address;this.tabCity(e,t)}},addRess:function(){var t=this;(0,o.addressdata)().then(function(n){console.log(n);var e=n.result.ad_info.city;t.address=e,t.cityData(t.address)}).catch(function(n){console.log("点了拒绝定位"),t.address="昆明市";t.cityData(t.address)})},cityData:function(t){var n=this;f.where({datainfo:{address:t}}).orderBy("datainfo.time","desc").get().then(function(t){console.log(t);var e=t.data;n.resultCity(e)}).catch(function(t){console.log(t)})},tabCity:function(t,n){var e=this;f.where({datainfo:{address:t,classdata:n}}).get().then(function(t){console.log(t);var n=t.data;e.resultCity(n)}).catch(function(t){console.log(t)})},resultCity:function(t){var n=t.map(function(t){var n=t._id,e=t.datainfo;return{id:n,datainfo:e}});console.log(n),this.localdata=n,this.homeload=!1,this.loadinglist=!1,0===n.length?this.nonedata=!0:this.nonedata=!1},travels:function(){t.navigateTo({url:"../travels/travels"})},whendata:function(){var t=this,n=u.collection("whens");n.get().then(function(n){console.log(n.data[0].time);var e=n.data[0].time;1==e&&(t.Whether=!0)}).catch(function(t){console.log(t)})}},created:function(){console.log("11"),this.addRess(),this.whendata()},computed:s({},(0,a.mapState)(["city","roturn"]),{count:function(){var t=this.city.citying;console.log("会执行吗"),console.log(t),this.addressData=t},list:function(){""==this.address?console.log(this.address):console.log("此刻地址"+this.address)},routing:function(){1==this.roturn.pagesid&&(console.log("刷新页面"),this.addRess())}}),watch:{addressData:function(t,n){console.log(t),this.address=t,this.cityData(t)}},onShareAppMessage:function(t){return{title:"去旅游，上生如夏花旅途小程序",path:"/pages/index/index"}}};n.default=h}).call(this,e("543d")["default"])},ed1b:function(t,n,e){"use strict";(function(t){e("bb5b"),e("921b");a(e("66fd"));var n=a(e("0375"));function a(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("543d")["createPage"])}},[["ed1b","common/runtime","common/vendor"]]]);